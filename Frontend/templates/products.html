{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="container mt-5">

    {% if request.user.role == 0 or request.user.role == 1 %}

    <a href="/inventory/products/add/"><button class="btn btn-warning btn-sm">Add Products</button></a>

    {% endif %}

    <br> <br>

    <img src="{% static 'assets/images/product.jpg' %}" alt="" style="width: 300px; height: 280px; display: block; margin: 0 auto; border-radius: 12px;">

    <br>

    <h1 class="text-center mb-4 text-primary">All Products</h1>

    <table class="table table-striped table-bordered table-hover">
        <thead class="table-dark">
            <tr>
                <th>Product Name</th>
                <th>Product Code</th>
                <th>Price</th>
                <th>GST</th>
                <th>Food Product</th>
                <th>Picture</th>

                {% if request.user.role == 0 or request.user.role == 1 %}

                <th>Update</th>
                <th>Delete</th>
                {% endif %}
            </tr>
        </thead>

        <tbody>
            {% for product in all_products %}
            <tr>
                <td>{{ product.product_name }}</td>
                <td>{{ product.product_code }}</td>
                <td>{{ product.price }}</td>
                <td>{{ product.gst }}</td>
                <td>{{ product.food_product }}</td>
                <td>
                    {% if product.picture %}

                    <img src="{{product.picture.url}}" alt="" width="60px">

                    {% else %}

                    No Picture

                    {% endif %}


                </td>

                {% if request.user.role == 0 or request.user.role == 1 %}

                <td>
                    <a href="{% url 'product_update' product.id %}"><button class="btn btn-warning btn-sm">Update</button></a>
                </td>
                <td>
                    <a href="{% url 'product_delete' product.id %}"><button class="btn btn-danger btn-sm"  onclick="return confirm('Are you sure you want to delete this order?');">Delete</button></a>
                </td>

                {% endif %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<br> <br> <br> <br>

{% endblock %}
